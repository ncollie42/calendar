# Claude Code Instructions

## Spec-Driven Development

This is a **spec-driven development** repository. The specs in `specs/` are the source of truth.

### Before implementing any feature:
1. **Update the spec first** - All features, behaviors, and design decisions must be documented in the appropriate spec file before writing code
2. **Workshop unclear requirements** - Use `/workshop` to clarify ambiguities before adding to spec
3. **Get approval on spec changes** - Ensure the spec addition is complete and unambiguous before implementation

### Workflow:
1. Discuss feature requirements with user
2. Draft spec addition with precise details
3. Update the appropriate spec file with the new section
4. Implement code that matches the spec exactly

### Specification files:
- `specs/frontend.md` - Frontend design specification (UI, layout, interactions)
- `specs/backend.md` - Backend server specification (API, data, deployment)

### Implementation files:
- `index.html` - Frontend implementation
- `main.go` - Backend server

### Environment:
- `.env.local` - Convex deployment configuration (auto-generated by `npx convex dev`)

### Local Development:
```bash
bunx convex dev  # Terminal 1 (Convex backend)
go run main.go   # Terminal 2 (static file server)
# Open http://localhost:8080
```

## Coding Practices

### Defensive Programming
Assert aggressively. If an assumption could be wrong, assert itâ€”inputs non-nil, values in range, invariants hold.

The goal: if your mental model of the code is wrong, it crashes immediately at the violation, not later with corrupted state. When something crashes, work up the stack adding assertions that would have caught it earlier. The assertions are the spec.
